<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-svn] r165 - in trunk: . agg agg/include agg/src bindings bindings/python bindings/python/mapnik docs include plugins plugins/input plugins/input/postgis plugins/input/raster plugins/input/shape scons scons/scons-local-0.96.1 scons/scons-local-0.96.1/SCons scons/scons-local-0.96.1/SCons/Node scons/scons-local-0.96.1/SCons/Optik scons/scons-local-0.96.1/SCons/Options scons/scons-local-0.96.1/SCons/Platform scons/scons-local-0.96.1/SCons/Scanner scons/scons-local-0.96.1/SCons/Script scons/scons-local-0.96.1/SCons/Sig scons/scons-local-0.96.1/SCons/Tool src utils utils/shapeindex
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-svn/2006-February/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-svn%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-svn%5D%20r165%20-%20in%20trunk%3A%20.%20agg%20agg/include%20agg/src%20bindings%20bindings/python%20bindings/python/mapnik%20docs%20include%20plugins%20plugins/input%20plugins/input/postgis%20plugins/input/raster%20plugins/input/shape%20scons%20scons/scons-local-0.96.1%20scons/scons-local-0.96.1/SCons%20scons/scons-local-0.96.1/SCons/Node%20scons/scons-local-0.96.1/SCons/Optik%20scons/scons-local-0.96.1/SCons/Options%20scons/scons-local-0.96.1/SCons/Platform%20scons/scons-local-0.96.1/SCons/Scanner%20scons/scons-local-0.96.1/SCons/Script%20scons/scons-local-0.96.1/SCons/Sig%20scons/scons-local-0.96.1/SCons/Tool%20src%20utils%20utils/shapeindex&In-Reply-To=%3C200602262147.k1QLlamE006765%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000050.html">
   <LINK REL="Next"  HREF="000052.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-svn] r165 - in trunk: . agg agg/include agg/src bindings bindings/python bindings/python/mapnik docs include plugins plugins/input plugins/input/postgis plugins/input/raster plugins/input/shape scons scons/scons-local-0.96.1 scons/scons-local-0.96.1/SCons scons/scons-local-0.96.1/SCons/Node scons/scons-local-0.96.1/SCons/Optik scons/scons-local-0.96.1/SCons/Options scons/scons-local-0.96.1/SCons/Platform scons/scons-local-0.96.1/SCons/Scanner scons/scons-local-0.96.1/SCons/Script scons/scons-local-0.96.1/SCons/Sig scons/scons-local-0.96.1/SCons/Tool src utils utils/shapeindex</H1>
    <B>jdoyon at BerliOS</B> 
    <A HREF="mailto:mapnik-svn%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-svn%5D%20r165%20-%20in%20trunk%3A%20.%20agg%20agg/include%20agg/src%20bindings%20bindings/python%20bindings/python/mapnik%20docs%20include%20plugins%20plugins/input%20plugins/input/postgis%20plugins/input/raster%20plugins/input/shape%20scons%20scons/scons-local-0.96.1%20scons/scons-local-0.96.1/SCons%20scons/scons-local-0.96.1/SCons/Node%20scons/scons-local-0.96.1/SCons/Optik%20scons/scons-local-0.96.1/SCons/Options%20scons/scons-local-0.96.1/SCons/Platform%20scons/scons-local-0.96.1/SCons/Scanner%20scons/scons-local-0.96.1/SCons/Script%20scons/scons-local-0.96.1/SCons/Sig%20scons/scons-local-0.96.1/SCons/Tool%20src%20utils%20utils/shapeindex&In-Reply-To=%3C200602262147.k1QLlamE006765%40sheep.berlios.de%3E"
       TITLE="[Mapnik-svn] r165 - in trunk: . agg agg/include agg/src bindings bindings/python bindings/python/mapnik docs include plugins plugins/input plugins/input/postgis plugins/input/raster plugins/input/shape scons scons/scons-local-0.96.1 scons/scons-local-0.96.1/SCons scons/scons-local-0.96.1/SCons/Node scons/scons-local-0.96.1/SCons/Optik scons/scons-local-0.96.1/SCons/Options scons/scons-local-0.96.1/SCons/Platform scons/scons-local-0.96.1/SCons/Scanner scons/scons-local-0.96.1/SCons/Script scons/scons-local-0.96.1/SCons/Sig scons/scons-local-0.96.1/SCons/Tool src utils utils/shapeindex">jdoyon at berlios.de
       </A><BR>
    <I>Sun Feb 26 22:47:36 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000050.html">[Mapnik-svn] r164 - in trunk: bindings/python bindings/python/mapnik include src
</A></li>
        <LI>Next message: <A HREF="000052.html">[Mapnik-svn] r166 - trunk/bindings/python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51">[ date ]</a>
              <a href="thread.html#51">[ thread ]</a>
              <a href="subject.html#51">[ subject ]</a>
              <a href="author.html#51">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: jdoyon
Date: 2006-02-26 22:47:35 +0100 (Sun, 26 Feb 2006)
New Revision: 165

Modified:
   trunk/
   trunk/INSTALL
   trunk/SConstruct
   trunk/agg/
   trunk/agg/include/
   trunk/agg/src/
   trunk/bindings/
   trunk/bindings/python/
   trunk/bindings/python/mapnik/
   trunk/bindings/python/mapnik_envelope.cpp
   trunk/bindings/python/mapnik_filter.cpp
   trunk/bindings/python/mapnik_image.cpp
   trunk/bindings/python/mapnik_layer.cpp
   trunk/docs/
   trunk/include/
   trunk/plugins/
   trunk/plugins/input/
   trunk/plugins/input/postgis/
   trunk/plugins/input/raster/
   trunk/plugins/input/shape/
   trunk/scons/
   trunk/scons/scons-local-0.96.1/
   trunk/scons/scons-local-0.96.1/SCons/
   trunk/scons/scons-local-0.96.1/SCons/Node/
   trunk/scons/scons-local-0.96.1/SCons/Optik/
   trunk/scons/scons-local-0.96.1/SCons/Options/
   trunk/scons/scons-local-0.96.1/SCons/Platform/
   trunk/scons/scons-local-0.96.1/SCons/Scanner/
   trunk/scons/scons-local-0.96.1/SCons/Script/
   trunk/scons/scons-local-0.96.1/SCons/Sig/
   trunk/scons/scons-local-0.96.1/SCons/Tool/
   trunk/src/
   trunk/src/SConscript
   trunk/utils/
   trunk/utils/shapeindex/
Log:
Reworked all the svn:ignore properties.  They are all set explicitely now, and nothing should be left unacounted for.

Changed SConstruct to use freetype-config.  Updated INSTALL to reflect.

Added a RAM requirement for building in the INSTALL doc.

Fixed some python styling and added some basic docstrings.




Property changes on: trunk
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + .sconf_temp
config.log


Modified: trunk/INSTALL
===================================================================
--- trunk/INSTALL	2006-02-25 11:03:30 UTC (rev 164)
+++ trunk/INSTALL	2006-02-26 21:47:35 UTC (rev 165)
@@ -31,6 +31,7 @@
 
 If your system does NOT have one of these installed, you will need to install the mandatory ones at the very least before proceeding further.  Instructions on how to do this will come with each individual package.
 
+Also, a minimum of 256MB of RAM is recommended for the build process.
 
 Building
 --------
@@ -64,14 +65,10 @@
     default: /usr/lib
     actual: /usr/lib
 
-FREETYPE_INCLUDES: Search path for FreeType include files ( /path/to/FREETYPE_INCLUDES )
-    default: /usr/include
-    actual: /usr/include
+FREETYPE_CONFIG: The path to the freetype-config executable. ( /path/to/FREETYPE_CONFIG )
+    default: /usr/bin/freetype-config
+    actual: /usr/bin/freetype-config
 
-FREETYPE_LIBS: Search path for FreeType library files ( /path/to/FREETYPE_LIBS )
-    default: /usr/lib
-    actual: /usr/lib
-
 PNG_INCLUDES: Search path for libpng include files ( /path/to/PNG_INCLUDES )
     default: /usr/include
     actual: /usr/include
@@ -152,7 +149,7 @@
 Test
 ----
 
-There currently are no easy way to test your setup, other than write some code to generate a map.
+There currently is no easy way to test your setup, other than write some code to generate a map.
 
 One simple thing you can do is try to load the Python module, and make sure it does so without errors:
 

Modified: trunk/SConstruct
===================================================================
--- trunk/SConstruct	2006-02-25 11:03:30 UTC (rev 164)
+++ trunk/SConstruct	2006-02-26 21:47:35 UTC (rev 165)
@@ -24,8 +24,7 @@
 opts.Add('PREFIX', 'The install path &quot;prefix&quot;', '/usr/local')
 opts.Add(PathOption('BOOST_INCLUDES', 'Search path for boost include files', '/usr/include'))
 opts.Add(PathOption('BOOST_LIBS', 'Search path for boost library files', '/usr/lib'))
-opts.Add(PathOption('FREETYPE_INCLUDES', 'Search path for FreeType include files', '/opt/freetype/include/freetype2'))
-opts.Add(PathOption('FREETYPE_LIBS', 'Search path for FreeType library files', '/opt/freetype/lib'))
+opts.Add(PathOption('FREETYPE_CONFIG', 'The path to the freetype-config executable.', '/usr/bin/freetype-config'))
 opts.Add(PathOption('PNG_INCLUDES', 'Search path for libpng include files', '/usr/include'))
 opts.Add(PathOption('PNG_LIBS', 'Search path for libpng include files', '/usr/lib'))
 opts.Add(PathOption('JPEG_INCLUDES', 'Search path for libjpeg include files', '/usr/include'))
@@ -49,21 +48,22 @@
 
 env['CPPPATH'] = ['#agg/include', '#include']
 
-for path in [env['BOOST_INCLUDES'], env['FREETYPE_INCLUDES'], env['PNG_INCLUDES'], env['JPEG_INCLUDES'], env['TIFF_INCLUDES'], env['PGSQL_INCLUDES']]:
+for path in [env['BOOST_INCLUDES'], env['PNG_INCLUDES'], env['JPEG_INCLUDES'], env['TIFF_INCLUDES'], env['PGSQL_INCLUDES']]:
     if path not in env['CPPPATH']: env['CPPPATH'].append(path)
 
 env['LIBPATH'] = ['#agg', '#src']
 
-for path in [env['BOOST_LIBS'], env['FREETYPE_LIBS'], env['PNG_LIBS'], env['JPEG_LIBS'], env['TIFF_LIBS'], env['PGSQL_LIBS']]:
+for path in [env['BOOST_LIBS'], env['PNG_LIBS'], env['JPEG_LIBS'], env['TIFF_LIBS'], env['PGSQL_LIBS']]:
     if path not in env['LIBPATH']: env['LIBPATH'].append(path)
 
+env.ParseConfig(env['FREETYPE_CONFIG'] + ' --libs --cflags')
+
 C_LIBSHEADERS = [
     ['ltdl', 'ltdl.h', True],
     ['png', 'png.h', True],
     ['tiff', 'tiff.h', True],
     ['z', 'zlib.h', True],
-    ['jpeg', ['stdio.h','jpeglib.h'], True],
-    #['freetype', 'ft2build.h', True],
+    ['jpeg', ['stdio.h', 'jpeglib.h'], True],
     ['pq', 'libpq-fe.h', False]
 ]
 


Property changes on: trunk/agg
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + libagg.a
.sconsign



Property changes on: trunk/agg/include
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + .sconsign



Property changes on: trunk/agg/src
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + .sconsign



Property changes on: trunk/bindings
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign



Property changes on: trunk/bindings/python
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + .sconsign
*.os
_mapnik.so



Property changes on: trunk/bindings/python/mapnik
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + *.pyc
paths.py


Modified: trunk/bindings/python/mapnik_envelope.cpp
===================================================================
--- trunk/bindings/python/mapnik_envelope.cpp	2006-02-25 11:03:30 UTC (rev 164)
+++ trunk/bindings/python/mapnik_envelope.cpp	2006-02-26 21:47:35 UTC (rev 165)
@@ -58,7 +58,7 @@
 void export_envelope()
 {
     using namespace boost::python;
-    class_&lt;Envelope&lt;double&gt; &gt;(&quot;Envelope&quot;,init&lt;double,double,double,double&gt;())
+    class_&lt;Envelope&lt;double&gt; &gt;(&quot;Envelope&quot;,&quot;A spacial envelope (i.e. bounding box) which also defines some basic operators.&quot;,init&lt;double,double,double,double&gt;())
         .def(init&lt;&gt;())
 	.def(init&lt;const coord&lt;double,2&gt;&amp;, const coord&lt;double,2&gt;&amp;&gt;())
         .add_property(&quot;minx&quot;,&amp;Envelope&lt;double&gt;::minx)

Modified: trunk/bindings/python/mapnik_filter.cpp
===================================================================
--- trunk/bindings/python/mapnik_filter.cpp	2006-02-25 11:03:30 UTC (rev 164)
+++ trunk/bindings/python/mapnik_filter.cpp	2006-02-26 21:47:35 UTC (rev 165)
@@ -38,7 +38,7 @@
 void export_filter()
 {
     using namespace boost::python;
-    class_&lt;filter&lt;Feature&gt;,boost::noncopyable&gt;(&quot;Filter&quot;,no_init)
+    class_&lt;filter&lt;Feature&gt;,boost::noncopyable&gt;(&quot;Filter&quot;,&quot;An expression which allows to select features.&quot;,no_init)
 	.def(&quot;__str__&quot;,&amp;filter&lt;Feature&gt;::to_string);
 	;
     def(&quot;filter&quot;,&amp;create_filter);

Modified: trunk/bindings/python/mapnik_image.cpp
===================================================================
--- trunk/bindings/python/mapnik_image.cpp	2006-02-25 11:03:30 UTC (rev 164)
+++ trunk/bindings/python/mapnik_image.cpp	2006-02-26 21:47:35 UTC (rev 165)
@@ -32,7 +32,7 @@
 void export_image()
 {
     using namespace boost::python;
-    class_&lt;Image32&gt;(&quot;Image&quot;,init&lt;int,int&gt;())
+    class_&lt;Image32&gt;(&quot;Image&quot;,&quot;This class represents a 32 bit image.&quot;,init&lt;int,int&gt;())
     ;
     def(&quot;rawdata&quot;,&amp;rawdata);
 }

Modified: trunk/bindings/python/mapnik_layer.cpp
===================================================================
--- trunk/bindings/python/mapnik_layer.cpp	2006-02-25 11:03:30 UTC (rev 164)
+++ trunk/bindings/python/mapnik_layer.cpp	2006-02-26 21:47:35 UTC (rev 165)
@@ -104,7 +104,7 @@
     	.def(vector_indexing_suite&lt;std::vector&lt;std::string&gt;,true &gt;())
     	;
     
-    class_&lt;Layer&gt;(&quot;Layer&quot;,no_init)
+    class_&lt;Layer&gt;(&quot;Layer&quot;,&quot;A map layer.&quot;,no_init)
         .def(&quot;name&quot;,&amp;Layer::name,return_value_policy&lt;copy_const_reference&gt;())
         .def(&quot;params&quot;,&amp;Layer::params,return_value_policy&lt;reference_existing_object&gt;())
         .def(&quot;envelope&quot;,&amp;Layer::envelope)


Property changes on: trunk/docs
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign



Property changes on: trunk/include
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + .sconsign



Property changes on: trunk/plugins
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign



Property changes on: trunk/plugins/input
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign



Property changes on: trunk/plugins/input/postgis
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + .sconsign
*.os
postgis.so



Property changes on: trunk/plugins/input/raster
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + .sconsign
*.os
raster.so



Property changes on: trunk/plugins/input/shape
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + .sconsign
*.os
shape.so



Property changes on: trunk/scons
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + *.pyc



Property changes on: trunk/scons/scons-local-0.96.1
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + *.pyc



Property changes on: trunk/scons/scons-local-0.96.1/SCons
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + *.pyc



Property changes on: trunk/scons/scons-local-0.96.1/SCons/Node
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + *.pyc



Property changes on: trunk/scons/scons-local-0.96.1/SCons/Optik
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + *.pyc



Property changes on: trunk/scons/scons-local-0.96.1/SCons/Options
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + *.pyc



Property changes on: trunk/scons/scons-local-0.96.1/SCons/Platform
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + *.pyc



Property changes on: trunk/scons/scons-local-0.96.1/SCons/Scanner
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + *.pyc



Property changes on: trunk/scons/scons-local-0.96.1/SCons/Script
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + *.pyc



Property changes on: trunk/scons/scons-local-0.96.1/SCons/Sig
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + *.pyc



Property changes on: trunk/scons/scons-local-0.96.1/SCons/Tool
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + *.pyc



Property changes on: trunk/src
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + .sconsign
*.os
libmapnik.so


Modified: trunk/src/SConscript
===================================================================
--- trunk/src/SConscript	2006-02-25 11:03:30 UTC (rev 164)
+++ trunk/src/SConscript	2006-02-26 21:47:35 UTC (rev 165)
@@ -24,7 +24,6 @@
 prefix = env['PREFIX']
 
 libraries = ['agg'] + env['LIBS']
-libraries += ['freetype']
 
 linkflags = '-Wl,-rpath-link,. -Wl,-soname,libmapnik.so'
 


Property changes on: trunk/utils
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign



Property changes on: trunk/utils/shapeindex
___________________________________________________________________
Name: svn:ignore
   - *.pyc
*.os
*.so
.sconsign

   + .sconsign
shapeindex



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000050.html">[Mapnik-svn] r164 - in trunk: bindings/python bindings/python/mapnik include src
</A></li>
	<LI>Next message: <A HREF="000052.html">[Mapnik-svn] r166 - trunk/bindings/python
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51">[ date ]</a>
              <a href="thread.html#51">[ thread ]</a>
              <a href="subject.html#51">[ subject ]</a>
              <a href="author.html#51">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-svn">More information about the Mapnik-svn
mailing list</a><br>
</body></html>
