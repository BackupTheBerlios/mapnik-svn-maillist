<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Mapnik-svn] r275 - trunk/include
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mapnik-svn/2006-May/index.html" >
   <LINK REL="made" HREF="mailto:mapnik-svn%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-svn%5D%20r275%20-%20trunk/include&In-Reply-To=%3C200605301341.k4UDfHZ3000412%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000159.html">
   <LINK REL="Next"  HREF="000161.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Mapnik-svn] r275 - trunk/include</H1>
    <B>pavlenko at BerliOS</B> 
    <A HREF="mailto:mapnik-svn%40lists.berlios.de?Subject=Re%3A%20%5BMapnik-svn%5D%20r275%20-%20trunk/include&In-Reply-To=%3C200605301341.k4UDfHZ3000412%40sheep.berlios.de%3E"
       TITLE="[Mapnik-svn] r275 - trunk/include">pavlenko at berlios.de
       </A><BR>
    <I>Tue May 30 15:41:17 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000159.html">[Mapnik-svn] r274 - in trunk: include src
</A></li>
        <LI>Next message: <A HREF="000161.html">[Mapnik-svn] r276 - trunk/docs/ogcserver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#160">[ date ]</a>
              <a href="thread.html#160">[ thread ]</a>
              <a href="subject.html#160">[ subject ]</a>
              <a href="author.html#160">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: pavlenko
Date: 2006-05-30 15:41:15 +0200 (Tue, 30 May 2006)
New Revision: 275

Modified:
   trunk/include/graphics.hpp
Log:
replaced tabs with spaces

Modified: trunk/include/graphics.hpp
===================================================================
--- trunk/include/graphics.hpp	2006-05-26 13:11:31 UTC (rev 274)
+++ trunk/include/graphics.hpp	2006-05-30 13:41:15 UTC (rev 275)
@@ -38,142 +38,142 @@
     class MAPNIK_DECL Image32
     {
     private:
-	unsigned width_;
-	unsigned height_;
-	Color background_;
-	ImageData32 data_;
+        unsigned width_;
+        unsigned height_;
+        Color background_;
+        ImageData32 data_;
     public:
-	Image32(int width,int height);
-	Image32(const Image32&amp; rhs);
-	~Image32();
-	void setBackground(const Color&amp; background);
-	const Color&amp; getBackground() const;     
-	const ImageData32&amp; data() const;
-	inline ImageData32&amp; data() {
-	    return data_;
-	}
-	inline const unsigned char* raw_data() const
-	{
-	    return data_.getBytes();
-	}
+        Image32(int width,int height);
+        Image32(const Image32&amp; rhs);
+        ~Image32();
+        void setBackground(const Color&amp; background);
+        const Color&amp; getBackground() const;     
+        const ImageData32&amp; data() const;
+        inline ImageData32&amp; data() {
+            return data_;
+        }
+        inline const unsigned char* raw_data() const
+        {
+            return data_.getBytes();
+        }
 	
-	inline unsigned char* raw_data()
-	{
-	    return data_.getBytes();
-	}
+        inline unsigned char* raw_data()
+        {
+            return data_.getBytes();
+        }
 	
-	void saveToFile(const std::string&amp; file,const std::string&amp; format=&quot;auto&quot;); 
+        void saveToFile(const std::string&amp; file,const std::string&amp; format=&quot;auto&quot;); 
     private:
 
-	inline bool checkBounds(unsigned x, unsigned y) const
-	{
-	    return (x &lt; width_ &amp;&amp; y &lt; height_);
-	}
+        inline bool checkBounds(unsigned x, unsigned y) const
+        {
+            return (x &lt; width_ &amp;&amp; y &lt; height_);
+        }
 
     public:
-	inline void setPixel(int x,int y,unsigned int rgba)
-	{
-	    if (checkBounds(x,y))
-	    {
-		data_(x,y)=rgba;
-	    }
-	}
-	inline void blendPixel(int x,int y,unsigned int rgba1,int t)
-	{
-	    if (checkBounds(x,y))
-	    {
-		unsigned rgba0 = data_(x,y);	
-		unsigned a1 = t;//(rgba1 &gt;&gt; 24) &amp; 0xff;
-		if (a1 == 0) return;
-		unsigned r1 = rgba1 &amp; 0xff;
-		unsigned g1 = (rgba1 &gt;&gt; 8 ) &amp; 0xff;
-		unsigned b1 = (rgba1 &gt;&gt; 16) &amp; 0xff;
+        inline void setPixel(int x,int y,unsigned int rgba)
+        {
+            if (checkBounds(x,y))
+            {
+                data_(x,y)=rgba;
+            }
+        }
+        inline void blendPixel(int x,int y,unsigned int rgba1,int t)
+        {
+            if (checkBounds(x,y))
+            {
+                unsigned rgba0 = data_(x,y);	
+                unsigned a1 = t;//(rgba1 &gt;&gt; 24) &amp; 0xff;
+                if (a1 == 0) return;
+                unsigned r1 = rgba1 &amp; 0xff;
+                unsigned g1 = (rgba1 &gt;&gt; 8 ) &amp; 0xff;
+                unsigned b1 = (rgba1 &gt;&gt; 16) &amp; 0xff;
 		
-		unsigned a0 = (rgba0 &gt;&gt; 24) &amp; 0xff;
-		unsigned r0 = (rgba0 &amp; 0xff) * a0;
-		unsigned g0 = ((rgba0 &gt;&gt; 8 ) &amp; 0xff) * a0;
-		unsigned b0 = ((rgba0 &gt;&gt; 16) &amp; 0xff) * a0;
+                unsigned a0 = (rgba0 &gt;&gt; 24) &amp; 0xff;
+                unsigned r0 = (rgba0 &amp; 0xff) * a0;
+                unsigned g0 = ((rgba0 &gt;&gt; 8 ) &amp; 0xff) * a0;
+                unsigned b0 = ((rgba0 &gt;&gt; 16) &amp; 0xff) * a0;
 		
 		
-		a0 = ((a1 + a0) &lt;&lt; 8) - a0*a1;
+                a0 = ((a1 + a0) &lt;&lt; 8) - a0*a1;
 		
-		r0 = ((((r1 &lt;&lt; 8) - r0) * a1 + (r0 &lt;&lt; 8)) / a0);
-		g0 = ((((g1 &lt;&lt; 8) - g0) * a1 + (g0 &lt;&lt; 8)) / a0);
-		b0 = ((((b1 &lt;&lt; 8) - b0) * a1 + (b0 &lt;&lt; 8)) / a0);
-		a0 = a0 &gt;&gt; 8;
-		data_(x,y)= (a0 &lt;&lt; 24)| (b0 &lt;&lt; 16) |  (g0 &lt;&lt; 8) | (r0) ;
-	    }
-	}
+                r0 = ((((r1 &lt;&lt; 8) - r0) * a1 + (r0 &lt;&lt; 8)) / a0);
+                g0 = ((((g1 &lt;&lt; 8) - g0) * a1 + (g0 &lt;&lt; 8)) / a0);
+                b0 = ((((b1 &lt;&lt; 8) - b0) * a1 + (b0 &lt;&lt; 8)) / a0);
+                a0 = a0 &gt;&gt; 8;
+                data_(x,y)= (a0 &lt;&lt; 24)| (b0 &lt;&lt; 16) |  (g0 &lt;&lt; 8) | (r0) ;
+            }
+        }
 
-	inline unsigned width() const
-	{
-	    return width_;
-	}
+        inline unsigned width() const
+        {
+            return width_;
+        }
 	
-	inline unsigned height() const
-	{
-	    return height_;
-	}
+        inline unsigned height() const
+        {
+            return height_;
+        }
 
-	inline void set_rectangle(int x0,int y0,ImageData32 const&amp; data)
-	{
-	    Envelope&lt;int&gt; ext0(0,0,width_,height_);   
-	    Envelope&lt;int&gt; ext1(x0,y0,x0+data.width(),y0+data.height());
+        inline void set_rectangle(int x0,int y0,ImageData32 const&amp; data)
+        {
+            Envelope&lt;int&gt; ext0(0,0,width_,height_);   
+            Envelope&lt;int&gt; ext1(x0,y0,x0+data.width(),y0+data.height());
 	    
-	    if (ext0.intersects(ext1))
-	    {	
-		Envelope&lt;int&gt; box = ext0.intersect(ext1);
-		for (int y = box.miny(); y &lt; box.maxy(); ++y)
-		{
-		    for (int x = box.minx(); x &lt; box.maxx(); ++x)
-		    {
-			if ((data(x-x0,y-y0) &amp; 0xff000000)) 
-			{
-			    data_(x,y)=data(x-x0,y-y0);
-			}
-		    }
-		}   
-	    }
-	}
+            if (ext0.intersects(ext1))
+            {	
+                Envelope&lt;int&gt; box = ext0.intersect(ext1);
+                for (int y = box.miny(); y &lt; box.maxy(); ++y)
+                {
+                    for (int x = box.minx(); x &lt; box.maxx(); ++x)
+                    {
+                        if ((data(x-x0,y-y0) &amp; 0xff000000)) 
+                        {
+                            data_(x,y)=data(x-x0,y-y0);
+                        }
+                    }
+                }   
+            }
+        }
 	
-	inline void set_rectangle_alpha(int x0,int y0,const ImageData32&amp; data)
-	{
-	    Envelope&lt;int&gt; ext0(0,0,width_,height_);   
-	    Envelope&lt;int&gt; ext1(x0,y0,x0 + data.width(),y0 + data.height());
+        inline void set_rectangle_alpha(int x0,int y0,const ImageData32&amp; data)
+        {
+            Envelope&lt;int&gt; ext0(0,0,width_,height_);   
+            Envelope&lt;int&gt; ext1(x0,y0,x0 + data.width(),y0 + data.height());
 	    
-	    if (ext0.intersects(ext1))
-	    {	                		
-		Envelope&lt;int&gt; box = ext0.intersect(ext1);		
-		for (int y = box.miny(); y &lt; box.maxy(); ++y)
-		{
-		    for (int x = box.minx(); x &lt; box.maxx(); ++x)
-		    {
-			unsigned rgba0 = data_(x,y);
-			unsigned rgba1 = data(x-x0,y-y0);
+            if (ext0.intersects(ext1))
+            {	                		
+                Envelope&lt;int&gt; box = ext0.intersect(ext1);		
+                for (int y = box.miny(); y &lt; box.maxy(); ++y)
+                {
+                    for (int x = box.minx(); x &lt; box.maxx(); ++x)
+                    {
+                        unsigned rgba0 = data_(x,y);
+                        unsigned rgba1 = data(x-x0,y-y0);
 		    
-			unsigned a1 = (rgba1 &gt;&gt; 24) &amp; 0xff;
-			if (a1 == 0) continue;
-			unsigned r1 = rgba1 &amp; 0xff;
-			unsigned g1 = (rgba1 &gt;&gt; 8 ) &amp; 0xff;
-			unsigned b1 = (rgba1 &gt;&gt; 16) &amp; 0xff;
+                        unsigned a1 = (rgba1 &gt;&gt; 24) &amp; 0xff;
+                        if (a1 == 0) continue;
+                        unsigned r1 = rgba1 &amp; 0xff;
+                        unsigned g1 = (rgba1 &gt;&gt; 8 ) &amp; 0xff;
+                        unsigned b1 = (rgba1 &gt;&gt; 16) &amp; 0xff;
 		    
-			unsigned a0 = (rgba0 &gt;&gt; 24) &amp; 0xff;
-			unsigned r0 = (rgba0 &amp; 0xff) * a0;
-			unsigned g0 = ((rgba0 &gt;&gt; 8 ) &amp; 0xff) * a0;
-			unsigned b0 = ((rgba0 &gt;&gt; 16) &amp; 0xff) * a0;
+                        unsigned a0 = (rgba0 &gt;&gt; 24) &amp; 0xff;
+                        unsigned r0 = (rgba0 &amp; 0xff) * a0;
+                        unsigned g0 = ((rgba0 &gt;&gt; 8 ) &amp; 0xff) * a0;
+                        unsigned b0 = ((rgba0 &gt;&gt; 16) &amp; 0xff) * a0;
 		    
 		    
-			a0 = ((a1 + a0) &lt;&lt; 8) - a0*a1;
+                        a0 = ((a1 + a0) &lt;&lt; 8) - a0*a1;
 		    
-			r0 = ((((r1 &lt;&lt; 8) - r0) * a1 + (r0 &lt;&lt; 8)) / a0);
-			g0 = ((((g1 &lt;&lt; 8) - g0) * a1 + (g0 &lt;&lt; 8)) / a0);
-			b0 = ((((b1 &lt;&lt; 8) - b0) * a1 + (b0 &lt;&lt; 8)) / a0);
-			a0 = a0 &gt;&gt; 8;
-			data_(x,y)= (a0 &lt;&lt; 24)| (b0 &lt;&lt; 16) |  (g0 &lt;&lt; 8) | (r0) ;
-		    }
-		}
-	    }
-	}
+                        r0 = ((((r1 &lt;&lt; 8) - r0) * a1 + (r0 &lt;&lt; 8)) / a0);
+                        g0 = ((((g1 &lt;&lt; 8) - g0) * a1 + (g0 &lt;&lt; 8)) / a0);
+                        b0 = ((((b1 &lt;&lt; 8) - b0) * a1 + (b0 &lt;&lt; 8)) / a0);
+                        a0 = a0 &gt;&gt; 8;
+                        data_(x,y)= (a0 &lt;&lt; 24)| (b0 &lt;&lt; 16) |  (g0 &lt;&lt; 8) | (r0) ;
+                    }
+                }
+            }
+        }
     };
 }
 #endif //GRAPHICS_HPP


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000159.html">[Mapnik-svn] r274 - in trunk: include src
</A></li>
	<LI>Next message: <A HREF="000161.html">[Mapnik-svn] r276 - trunk/docs/ogcserver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#160">[ date ]</a>
              <a href="thread.html#160">[ thread ]</a>
              <a href="subject.html#160">[ subject ]</a>
              <a href="author.html#160">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mapnik-svn">More information about the Mapnik-svn
mailing list</a><br>
</body></html>
